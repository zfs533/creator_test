{"version":3,"sources":["assets/scene/ballbattle/ball.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAkC,wBAAY;IAA9C;QAAA,qEAsDC;QAnDG,QAAE,GAAY,SAAS,CAAC;QAEhB,UAAI,GAAW,GAAG,CAAC;;IAiD/B,CAAC;IA/CG,qBAAM,GAAN;QACI,IAAI,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACjC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;IAC3D,CAAC;IAED,0BAAW,GAAX;QACI,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC;IAED,0BAAW,GAAX,UAAY,GAAY;QACpB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;IAED;;OAEG;IACH,yBAAU,GAAV;QACI,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;IACzB,CAAC;IAED;;;OAGG;IACH,yBAAU,GAAV,UAAW,KAAa;QACpB,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED;;OAEG;IACH,uBAAQ,GAAR;QACI,IAAI,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QAC1E,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;IAC5C,CAAC;IAED;;OAEG;IACH,2BAAY,GAAZ,UAAa,OAAa;QACtB,IAAI,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,UAAU,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QAC9F,IAAI,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,UAAU,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QAC9F,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC1C,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC;QACjC,IAAI,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;QAC1D,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IAC1E,CAAC;IAlDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oCACM;IAHP,IAAI;QADxB,OAAO;OACa,IAAI,CAsDxB;IAAD,WAAC;CAtDD,AAsDC,CAtDiC,EAAE,CAAC,SAAS,GAsD7C;kBAtDoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n@ccclass\nexport default class Ball extends cc.Component {\n\n    @property(cc.Node)\n    bg: cc.Node = undefined;\n\n    private time: number = 0.4;\n\n    onLoad() {\n        let rotate = cc.rotateBy(5, 720);\n        cc.tween(this.bg).then(rotate.repeatForever()).start();\n    }\n\n    getPosition() {\n        return this.node.getPosition();\n    }\n\n    setPosition(pos: cc.Vec2) {\n        this.node.setPosition(pos);\n    }\n\n    /**\n     * 获取bg的scale\n     */\n    getBgScale() {\n        return this.bg.scale;\n    }\n\n    /**\n     * 设置bg的scale\n     * @param scale \n     */\n    setBgScale(scale: number) {\n        this.bg.scale = scale;\n    }\n\n    /**\n     * 一分为二\n     */\n    separate() {\n        let scaleTo = cc.scaleTo(this.time, this.bg.scale / 2, this.bg.scale / 2);\n        cc.tween(this.bg).then(scaleTo).start();\n    }\n\n    /**\n     * 分裂时，朝着指定方向移动一段位移\n     */\n    separateMove(momBall: Ball) {\n        let xx = momBall.getPosition().x + momBall.getBgScale() * 201 * Math.cos(Math.random() * 360);\n        let yy = momBall.getPosition().y + momBall.getBgScale() * 201 * Math.cos(Math.random() * 360);\n        let moveTo = cc.moveTo(this.time, xx, yy);\n        let scale = momBall.getBgScale();\n        let scaleto = cc.scaleTo(this.time, scale / 2, scale / 2);\n        cc.tween(this.node).then(moveTo.easing(cc.easeIn(this.time))).start();\n    }\n}\n"]}